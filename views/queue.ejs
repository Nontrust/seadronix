<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>

<body>
  <h1>Video</h1>
  

  <script>
  // 캔버스콘텍스트 가져오기
  const canvas = document.querySelector('.canvas');
  const ctx = canvas.getContext('2d');
  
  // 폰트 및 색상 세팅!
  ctx.font = 'bold 50px serif';
  ctx.fillStyle = 'red';

  const $video = document.querySelector('.video');
  $video.addEventListener('canplaythrough', render);

  var messages = [
    {time: 1, message: '1 ㅋㅋ', x: 100, y: 100},
    {time: 3, message: '2 ㅎㅎ', x: 300, y: 300},
    {time: 5, message: '3 ㅊㅊ', x: 400, y: 200}
  ];

  function render() {
    console.log($video.currentTime);
    ctx.drawImage($video, 0, 0, 600, 400);
    
    for (let i = 0; i < messages.length; i++) {
      if ($video.currentTime > messages[i].time) {
        ctx.fillText(messages[i].message, messages[i].x, messages[i].y);
      }
    }
      requestAnimationFrame(render);
  }
  </script>
</body>
</html>

<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"

"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<html>
  <head>
    <style>
      body {
        background: black;
        color:#CCCCCC;
      }
      #c2 {
        background-image: url(/ph.jpeg);
        background-repeat: no-repeat;
      }
      div {
        float: left;
        border :1px solid #444444;
        padding:10px;
        margin: 10px;
        background:#3B3B3B;
      }
    </style>
  </head>
  <script type="text/javascript" src="/main.js"></script> 

  <body onload="doLoad()">
    <div>
      <video id="video" src="/boom.mp4" controls="true"/>
    </div>
    <div>
      <canvas id="c1" width="160" height="96"></canvas>
      <canvas id="c2" width="160" height="96"></canvas>
    </div>
  </body>

  <script>
      
  </script>
</html>

<!-- <!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
  </body>

</html> -->
