<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>

<body>
  <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
  <li><a href="/">Index</a></li>
  <li><a href="https://programmers.co.kr/learn/courses/30/lessons/42628/solution_groups?language=javascript">Reference</a></li>
  입력 값 : <input type="text" id= "inputVal"> <button id="push">List push</button>

  <button id='result'>입력 끝</button>
  <div id="args">

  </div>
</body>
<script>
  const $inputVal = document.querySelector('#inputVal');
  const $push = document.querySelector('#push');
  const $result = document.querySelector('#result');
  const $args = document.querySelector('#args');

  let args = []

  $push.addEventListener('click',addArg);
  $result.addEventListener('click',result);

  

  function addArg(){
    args.push($inputVal.value);
    $args.innerHTML = args;
    $inputVal.value="";
    
    console.log(args);
  }
  function result(){
    var resultArr = solution(args);
    var resultStr =""
    console.log(resultArr)
    $args.innerHTML = "정답은? : " + resultArr.join(" ");
  }

  // 출처 : https://programmers.co.kr/learn/courses/30/lessons/42628/solution_groups?language=javascript
  function solution(arg) {
      var list = [];
      arg.forEach(t=>{
          if(t[0] === 'I'){
              list.push(+(t.split(" ")[1]));            
          }else if(t[0] === 'D'){
              if(!list.length) return;

              var val = (t[2] === '-' ? Math.min : Math.max)(...list);
              var delIndex = list.findIndex(t=> t ===  val);

              list.splice(delIndex, 1);
          }
      })
      return list.length ? [Math.max(...list), Math.min(...list)] : ["EMPTY"];
  }
</script>
</body>
</html>

